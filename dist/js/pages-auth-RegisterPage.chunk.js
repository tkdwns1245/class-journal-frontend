"use strict";exports.id=595,exports.ids=[595],exports.modules={91183:(e,n,r)=>{r.d(n,{Z:()=>E});var t,o,a,l,i=r(30168),s=r(67294),u=r(62761),m=r(39711),c=r(71614),d=r(13732),g=u.ZP.div(t||(t=(0,i.Z)(["\n    color: red;\n    text-align: center;\n    font-size: 0.875rem;\n    margin-top: 1rem;\n"]))),p=u.ZP.div(o||(o=(0,i.Z)(["\n    h3{\n        margin: 0;\n        color: ",";\n        margin-bottom: 1em;\n    }\n"])),c.Z.gray[8]),f=u.ZP.input(a||(a=(0,i.Z)(["\n    font-size: 1rem;\n    border: none;\n    border-bottom: 1px solid ",";\n    padding-bottom: 0.5rem;\n    outline: none;\n    width: 100%;\n    &:focus {\n        color: $oc-teal-7;\n        border-bottom: 1px solid ",";\n    }\n    & + & {\n        margin-top: 1rem;\n    }\n"])),c.Z.gray[5],c.Z.gray[7]),h=u.ZP.div(l||(l=(0,i.Z)(["\n    margin-top: 2rem;\n    text-align: right;\n    a{\n        color: ",";\n        text-decoration: underline;\n        &:hover {\n            color: ",";\n        }\n    }\n"])),c.Z.gray[6],c.Z.gray[9]),v={login:"로그인",register:"회원가입"};const E=function(e){var n=e.type,r=e.form,t=e.onChange,o=e.onSubmit,a=e.error,l=v[n];return s.createElement(p,null,s.createElement("h3",null,l),s.createElement("form",{onSubmit:o},s.createElement(f,{authComplete:"username",name:"username",placeholder:"아이디",onChange:t,value:r.username}),s.createElement(f,{autoComplete:"new-password",name:"password",placeholder:"비밀번호",type:"password",onChange:t,value:r.password}),"register"===n&&s.createElement(f,{autoComplete:"new-password",name:"passwordConfirm",palaceholder:"비밀번호 확인",type:"password",onChange:t,value:r.passwordConfirm}),a&&s.createElement(g,null,a),s.createElement(d.Z,{color:"green",fullWidth:!0,style:{marginTop:"1rem"}},l)),s.createElement(h,null,"login"===n?s.createElement(m.rU,{to:"/register"},"회원가입"):s.createElement(m.rU,{to:"/login"},"로그인")))}},27800:(e,n,r)=>{r.d(n,{Z:()=>d});var t,o,a=r(30168),l=r(67294),i=r(62761),s=r(71614),u=r(39711),m=i.ZP.div(t||(t=(0,a.Z)(["\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    background: ",";\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    z-index:1051;\n"])),s.Z.gray[2]),c=i.ZP.div(o||(o=(0,a.Z)(["\n    .logo-area {\n        display: block;\n        padding-bottom: 2rem;\n        text-align: center;\n        font-weight: bold;\n        letter-spacing: 2px;\n    }\n    box-shadow: 0 0 8px rgba(0,0,0,0.025);\n    padding: 2rem;\n    width: 360px;\n    background: white;\n    border-radius: 2px;\n"])));const d=function(e){var n=e.children;return l.createElement(m,null,l.createElement(c,null,l.createElement("div",{className:"logo-area"},l.createElement(u.rU,{to:"/"},"CLASSJOURNAL")),n))}},86521:(e,n,r)=>{r.r(n),r.d(n,{default:()=>d});var t=r(67294),o=r(27800),a=r(91183),l=r(29439),i=r(39704),s=r(83314),u=r(3625),m=r(96974);const c=function(){var e=(0,t.useState)(null),n=(0,l.Z)(e,2),r=n[0],o=n[1],c=(0,m.s0)(),d=(0,i.I0)(),g=(0,i.v9)((function(e){var n=e.auth,r=e.user;return{form:n.register,auth:n.auth,authError:n.authError,user:r.user}})),p=g.form,f=g.auth,h=g.authError,v=g.user;return(0,t.useEffect)((function(){d((0,s.R4)("register"))}),[d]),(0,t.useEffect)((function(){if(h)return 409===h.response.status?void o("이미 존재하는 계정입니다."):void o("회원가입 실패");f&&(console.log("회원가입 성공"),console.log(f),d((0,u.BF)()))}),[f,h,d]),(0,t.useEffect)((function(){v&&c("/");try{localStorage.setItem("user",JSON.stringify(v))}catch(e){console.log("localStorage is not working")}}),[v,c]),t.createElement(a.Z,{type:"register",form:p,onChange:function(e){var n=e.target,r=n.value,t=n.name;d((0,s.uC)({form:"register",key:t,value:r}))},onSubmit:function(e){e.preventDefault();var n=p.username,r=p.password,t=p.passwordConfirm;if(![n,r,t].includes(""))return r!==t?(o("비밀번호가 일치하지 않습니다."),d((0,s.uC)({form:"register",key:"password",value:""})),void d((0,s.uC)({form:"register",key:"passwordConfirm",value:""}))):void d((0,s.z2)({username:n,password:r}));o("빈 칸을 모두 입력하세요.")},error:r})},d=function(){return t.createElement(o.Z,null,t.createElement(c,null))}}};