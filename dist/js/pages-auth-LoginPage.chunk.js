"use strict";exports.id=266,exports.ids=[266],exports.modules={91183:(e,n,r)=>{r.d(n,{Z:()=>E});var t,o,a,l,i=r(30168),u=r(67294),s=r(62761),c=r(39711),m=r(71614),d=r(13732),g=s.ZP.div(t||(t=(0,i.Z)(["\n    color: red;\n    text-align: center;\n    font-size: 0.875rem;\n    margin-top: 1rem;\n"]))),p=s.ZP.div(o||(o=(0,i.Z)(["\n    h3{\n        margin: 0;\n        color: ",";\n        margin-bottom: 1em;\n    }\n"])),m.Z.gray[8]),f=s.ZP.input(a||(a=(0,i.Z)(["\n    font-size: 1rem;\n    border: none;\n    border-bottom: 1px solid ",";\n    padding-bottom: 0.5rem;\n    outline: none;\n    width: 100%;\n    &:focus {\n        color: $oc-teal-7;\n        border-bottom: 1px solid ",";\n    }\n    & + & {\n        margin-top: 1rem;\n    }\n"])),m.Z.gray[5],m.Z.gray[7]),h=s.ZP.div(l||(l=(0,i.Z)(["\n    margin-top: 2rem;\n    text-align: right;\n    a{\n        color: ",";\n        text-decoration: underline;\n        &:hover {\n            color: ",";\n        }\n    }\n"])),m.Z.gray[6],m.Z.gray[9]),v={login:"로그인",register:"회원가입"};const E=function(e){var n=e.type,r=e.form,t=e.onChange,o=e.onSubmit,a=e.error,l=v[n];return u.createElement(p,null,u.createElement("h3",null,l),u.createElement("form",{onSubmit:o},u.createElement(f,{authComplete:"username",name:"username",placeholder:"아이디",onChange:t,value:r.username}),u.createElement(f,{autoComplete:"new-password",name:"password",placeholder:"비밀번호",type:"password",onChange:t,value:r.password}),"register"===n&&u.createElement(f,{autoComplete:"new-password",name:"passwordConfirm",palaceholder:"비밀번호 확인",type:"password",onChange:t,value:r.passwordConfirm}),a&&u.createElement(g,null,a),u.createElement(d.Z,{color:"green",fullWidth:!0,style:{marginTop:"1rem"}},l)),u.createElement(h,null,"login"===n?u.createElement(c.rU,{to:"/register"},"회원가입"):u.createElement(c.rU,{to:"/login"},"로그인")))}},27800:(e,n,r)=>{r.d(n,{Z:()=>d});var t,o,a=r(30168),l=r(67294),i=r(62761),u=r(71614),s=r(39711),c=i.ZP.div(t||(t=(0,a.Z)(["\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    background: ",";\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    z-index:1051;\n"])),u.Z.gray[2]),m=i.ZP.div(o||(o=(0,a.Z)(["\n    .logo-area {\n        display: block;\n        padding-bottom: 2rem;\n        text-align: center;\n        font-weight: bold;\n        letter-spacing: 2px;\n    }\n    box-shadow: 0 0 8px rgba(0,0,0,0.025);\n    padding: 2rem;\n    width: 360px;\n    background: white;\n    border-radius: 2px;\n"])));const d=function(e){var n=e.children;return l.createElement(c,null,l.createElement(m,null,l.createElement("div",{className:"logo-area"},l.createElement(s.rU,{to:"/"},"CLASSJOURNAL")),n))}},65137:(e,n,r)=>{r.r(n),r.d(n,{default:()=>d});var t=r(67294),o=r(27800),a=r(29439),l=r(39704),i=r(96974),u=r(83314),s=r(91183),c=r(3625);const m=function(){var e=(0,t.useState)(null),n=(0,a.Z)(e,2),r=n[0],o=n[1],m=(0,i.s0)(),d=(0,l.I0)(),g=(0,l.v9)((function(e){var n=e.auth,r=e.user;return{form:n.login,auth:n.auth,authError:n.authError,user:r.user}})),p=g.form,f=g.auth,h=g.authError,v=g.user;return(0,t.useEffect)((function(){d((0,u.R4)("login"))}),[d]),(0,t.useEffect)((function(){if(h)return console.log("오류 발생"),console.log(h),void o("로그인 실패");f&&(console.log("로그인 성공"),d((0,c.BF)()))}),[f,h,d]),(0,t.useEffect)((function(){v&&m("/");try{localStorage.setItem("user",JSON.stringify(v))}catch(e){console.log("localStorage is not working")}}),[v,m]),t.createElement(s.Z,{type:"login",form:p,onChange:function(e){var n=e.target,r=n.value,t=n.name;d((0,u.uC)({form:"login",key:t,value:r}))},onSubmit:function(e){e.preventDefault();var n=p.username,r=p.password;d((0,u.x4)({username:n,password:r}))},error:r})},d=function(){return t.createElement(o.Z,null,t.createElement(m,null))}}};